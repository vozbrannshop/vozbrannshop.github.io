!function(t){var a={};function e(o){if(a[o])return a[o].exports;var i=a[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=a,e.d=function(t,a,o){e.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,a){if(1&a&&(t=e(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)e.d(o,i,function(a){return t[a]}.bind(null,i));return o},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},e.p="",e(e.s=0)}([function(t,a,e){"use strict";e.r(a);var o;e(1);function i(t){$.ajax({url:"http://nit.tron.net.ua/api/category/"+t,type:"GET",dataType:"json",success:function(t){var a='<p class="categoryName text-center font-weight-bold">'+t.name+'<span class = "categoryDescription"> ('+t.description+")";$(".categoryName").empty(),$(".categoryName").append(a)},error:function(t){alert("Error while loading data!")}}),function(t){$(".products").empty(),$.ajax({url:"http://nit.tron.net.ua/api/product/list/category/"+t,type:"GET",dataType:"json",success:function(a){for(var e=0;e<a.length;e++){var o='<div class="card product col-lg-4 border-0">';o+='<img data_id="'+a[e].id+'" data_category="'+t+'" src="'+a[e].image_url+'"',o+='class="rounded mx-auto d-block productImg openProduct"',o+='alt="'+a[e].name+'">',o+='<div class="card-body"><p data_id="'+a[e].id+'" data_category="'+t+'" class="productName font-weight-bold openProduct">'+a[e].name+"</p></div>",o+='<div class="card-footer border-0 text-right">',null!=a[e].special_price?(o+='<span class="oldPriceText align-middle">'+a[e].price+" &#8372</span>",o+='<span class="priceText text-danger font-weight-bold align-middle">'+a[e].special_price+" &#8372</span>",o+='<button type="button" data_id="'+a[e].id+'" class="btn addToCart btn-success" data_id="'+a[e].id+'"><i class="material-icons align-middle" style="font-size:25px">add_shopping_cart</i></button></div>'):(o+='<a class="priceText font-weight-bold align-middle">'+a[e].price+" &#8372</a>",o+='<button type="button" data_id="'+a[e].id+'" class="btn addToCart btn-success" data_id="'+a[e].id+'"><i class="material-icons align-middle" style="font-size:25px">add_shopping_cart</i></button>'),$(".products").append(o)}},error:function(t){alert("Error while loading data!")}})}(t)}function n(){$(".products").empty(),$.ajax({url:"http://nit.tron.net.ua/api/product/list/",type:"GET",dataType:"json",success:function(t){t;$(".categoryName").empty(),$(".categoryName").append('<p class="categoryName text-center font-weight-bold">All products');for(var a=0;a<t.length;a++){var e='<div class="card product col-lg-4 border-0">';e+='<img data_id="'+t[a].id+'" src="'+t[a].image_url+'"',e+='class="rounded mx-auto d-block productImg openStartProduct"',e+='alt="'+t[a].name+'">',e+='<div class="card-body"><p data_id="'+t[a].id+'" class="openStartProduct productName font-weight-bold">'+t[a].name+"</p></div>",e+='<div class="card-footer border-0 text-right">',null!=t[a].special_price?(e+='<span class="oldPriceText align-middle">'+t[a].price+" &#8372</span>",e+='<span class="priceText text-danger font-weight-bold align-middle">'+t[a].special_price+" &#8372</span>",e+='<button type="button" data_id="'+t[a].id+'" class="btn addToCart btn-success" data_id="'+t[a].id+'"><i class="material-icons align-middle" style="font-size:25px">add_shopping_cart</i></button></div>'):(e+='<a class="priceText font-weight-bold align-middle">'+t[a].price+" &#8372</a>",e+='<button type="button" data_id="'+t[a].id+'" class="btn addToCart btn-success" data_id="'+t[a].id+'"><i class="material-icons align-middle" style="font-size:25px">add_shopping_cart</i></button>'),$(".products").append(e)}},error:function(t){alert("Error while loading data!")}})}$.ajax({url:"http://nit.tron.net.ua/api/category/list",type:"GET",dataType:"json",success:function(t){var a='<div class="col font-weight-bold text-center categoryButton text-lg categoriesNNN">Categories:';$("#categoryList").append(a);for(var e=0;e<t.length;e++){a='<div class="col text-center font-weight-bold align-middle text-lg categoryButton"><button type="button" class="btn btn-outline-dark btn-block categoryBtn" data_id="'+t[e].id+'" >'+t[e].name;$("#categoryList").append(a)}},error:function(t){alert("Error while loading data!")}}),$(document).on("click",".categoryBtn",function(){$("#orderForm").addClass("d-none");var t=$(this).attr("data_id");$(".saveRow").remove(),window.location.hash="category:"+t,i(t)}),$(document).on("click",".openStartProduct",function(){$("#orderForm").addClass("d-none");var t=$(this).attr("data_id");$(".saveRow").remove(),window.location.hash="product:"+t,l(t)}),$(document).on("click",".openProduct",function(){$("#orderForm").addClass("d-none");var t=$(this).attr("data_id"),a=$(this).attr("data_category");$(".saveRow").remove(),window.location.hash="product:"+t,function(t,a){a,$(".categoryName").empty(),$(".products").empty(),$.ajax({url:"http://nit.tron.net.ua/api/product/"+t,type:"GET",dataType:"json",success:function(t){var e='<p class="categoryName text-center font-weight-bold">'+t.name;$(".categoryName").append(e);var o='<div class="container cartObj"><div class="row"><div class="col"><button data_id="'+a+'" type="button" class="btn btn-dark returnBtn"><i class="material-icons align-middle" style="font-size:36px">keyboard_backspace</i></button></div></div><div class="row"><div class="col-sm-4"><img src="'+t.image_url+'"  class="rounded mx-auto d-block cartImg" alt="Smiley face"></div><div class="col-sm-8"><p class="productName font-weight-bold">'+t.name+'</p></div><div class="col"><div class="row productDescription"><div class="col-12"><p class="productDescription">'+t.description+'</p></div><div class="col text-right">';null!=t.special_price?(o+='<span class="oldPriceText align-middle">'+t.price+" &#8372</span>",o+='<span class="priceText text-danger font-weight-bold align-middle">'+t.special_price+" &#8372</span>",o+='<button type="button" data_id="'+t.id+'" class="btn addToCart btn-success" data_id="'+t.id+'"><i class="material-icons align-middle" style="font-size:25px">add_shopping_cart</i></button></div></div></div></div>'):(o+='<a class="priceText font-weight-bold align-middle">'+t.price+" &#8372</a>",o+='<button type="button" data_id="'+t.id+'" class="btn addToCart btn-success" data_id="'+t.id+'"><i class="material-icons align-middle" style="font-size:25px">add_shopping_cart</i></button></div></div></div>'),$(".products").append(o)},error:function(t){alert("Error while loading data!")}})}(t,a)}),$(document).on("click",".addToCart",function(){$("#orderForm").addClass("d-none"),function(t){for(;d.length<=t;)d.push(0);0==d[t]?(r.push(t),d[t]++):d[t]++;Cookies.set("cartArrID",JSON.stringify(r)),Cookies.set("cartArrAmount",JSON.stringify(d))}($(this).attr("data_id"))}),$(document).on("click",".showCart",function(){$("#orderForm").addClass("d-none"),s()}),$(document).on("click",".removeFromCart",function(){$("#orderForm").addClass("d-none"),function(t){d[t]=0,r.remove(t),Cookies.set("cartArrID",JSON.stringify(r)),Cookies.set("cartArrAmount",JSON.stringify(d)),s()}($(this).attr("data_id"))}),$(document).on("click",".returnBtn",function(){$("#orderForm").addClass("d-none");var t=$(this).attr("data_id");window.location.hash="category:"+t,i(t)}),$(document).on("click",".showAll",function(){$("#orderForm").addClass("d-none"),n()});var r=[],d=[];function s(){window.location.hash="cart",null!=Cookies.get("cartArrID")&&(r=JSON.parse(Cookies.get("cartArrID")),d=JSON.parse(Cookies.get("cartArrAmount")));if($(".categoryName").empty(),$(".saveRow").remove(),$(".categoryName").append('<p class="categoryName text-center font-weight-bold">Cart <i class="material-icons align-middle">shopping_cart</i>'),$(".products").empty(),0==r.length)$(".products").append('<div class="container"><div class="row products"><div class="col"><p class="text-center font-weight-bold">Cart is empty</p></div></div></div><button type="button" class="btn btn-success btn-lg mx-auto saveBtn">Save changes</button>');else{for(var t=0;t<r.length;t++)setTimeout(function(t){return function(){var a=r[t];$.ajax({url:"http://nit.tron.net.ua/api/product/"+a,type:"GET",dataType:"json",success:function(t){if(null!=t.special_price)var e='<div class="container border cartObj"><div class="row"><div class="col-sm-4"><img src="'+t.image_url+'" data_id="'+a+'" class="rounded mx-auto d-block cartImg openStartProduct" alt="Smiley face"></div><div class="col-sm-7"><p data_id="'+a+'" class="productName font-weight-bold openStartProduct">'+t.name+'</p><div class="row"><div class="col-auto"><a class="font-weight-bold align-middle">Amount: </a></div><div class="form-group col"><input class="form-control example-number-input" type="number" id="saveAmountId'+a+'" value="'+d[a]+'"></div></div><a class="priceText font-weight-bold align-middle float-sm-right">'+t.special_price+' &#8372</a></div><div class="float-right col"><span data_id="'+a+'" class="float-right removeFromCart"><i class="material-icons align-middle" style="font-size:30px;color:red">cancel</i></span></div></div></div>';else e='<div class="container border cartObj"><div class="row"><div class="col-sm-4"><img src="'+t.image_url+'" data_id="'+a+'" class="rounded mx-auto d-block cartImg openStartProduct" alt="Smiley face"></div><div class="col-sm-7"><p data_id="'+a+'" class="productName font-weight-bold openStartProduct">'+t.name+'</p><div class="row"><div class="col-auto"><a class="font-weight-bold align-middle">Amount: </a></div><div class="form-group col"><input class="form-control example-number-input" type="number" id="saveAmountId'+a+'" value="'+d[a]+'"></div></div><a class="priceText font-weight-bold align-middle float-sm-right">'+t.price+' &#8372</a></div><div class="float-right col"><span data_id="'+a+'" class="float-right removeFromCart"><i class="material-icons align-middle" style="font-size:30px;color:red">cancel</i></span></div></div></div>';$(".products").append(e)},error:function(t){alert("Error while loading data!")}})}}(t),50);$(".saveRow").remove(),$(".products").after('<div class="row saveRow justify-content-center"><div class="col-auto"><button type="button" class="btn btn-success mx-auto btn-lg saveBtn">Save changes</button></div><div class="col-auto"><button type="button" class="btn btn-success mx-auto btn-lg orderBtn">Order</button></div>')}}function c(){for(var t=0;t<r.length;t++){var a=r[t],e=document.getElementById("saveAmountId"+a).value;d[a]=e}Cookies.set("cartArrID",JSON.stringify(r)),Cookies.set("cartArrAmount",JSON.stringify(d))}function l(t){$(".categoryName").empty(),$(".products").empty(),$.ajax({url:"http://nit.tron.net.ua/api/product/"+t,type:"GET",dataType:"json",success:function(t){var a='<p class="categoryName text-center font-weight-bold">'+t.name;$(".categoryName").append(a);var e='<div class="container cartObj"><div class="row"><div class="col-sm-4"><img src="'+t.image_url+'"  class="rounded mx-auto d-block cartImg" alt="Smiley face"></div><div class="col-sm-8"><p class="productName font-weight-bold">'+t.name+'</p></div><div class="col"><div class="row productDescription"><div class="col-12"><p class="productDescription">'+t.description+'</p></div><div class="col text-right">';null!=t.special_price?(e+='<span class="oldPriceText align-middle">'+t.price+" &#8372</span>",e+='<span class="priceText text-danger font-weight-bold align-middle">'+t.special_price+" &#8372</span>",e+='<button type="button" data_id="'+t.id+'" class="btn addToCart btn-success" data_id="'+t.id+'"><i class="material-icons align-middle" style="font-size:25px">add_shopping_cart</i></button></div></div></div></div>'):(e+='<a class="priceText font-weight-bold align-middle">'+t.price+" &#8372</a>",e+='<button type="button" data_id="'+t.id+'" class="btn addToCart btn-success" data_id="'+t.id+'"><i class="material-icons align-middle" style="font-size:25px">add_shopping_cart</i></button></div></div></div>'),$(".products").append(e)},error:function(t){alert("Error while loading data!")}})}if(Array.prototype.remove=function(){for(var t,a,e=arguments,o=e.length;o&&this.length;)for(t=e[--o];-1!==(a=this.indexOf(t));)this.splice(a,1);return this},$(document).on("click",".saveBtn",function(){$("#orderForm").addClass("d-none"),c()}),$(document).on("click",".orderBtn",function(){c(),$(".saveRow").remove(),function(){$(".categoryName").empty(),$(".products").empty();$(".categoryName").append('<p class="categoryName text-center font-weight-bold">Order form'),$("#orderForm").removeClass("d-none")}()}),$(document).on("click",".orderSend",function(){!function(){$(".categoryName").empty(),$(".products").empty();for(var t,a=document.getElementById("inputName").value,e=document.getElementById("inputPhone").value,i=document.getElementById("inputEmail").value,n={},s=0;s<r.length;s++){var l=r[s];n[l]=d[l]}o={token:"IGsABYMqiy_2QSHllp6r",name:a,phone:e,email:i,products:n},console.log(o),$.ajax({url:"http://nit.tron.net.ua/api/order/add",type:"POST",data:o,dataType:"json",success:function(a){if(t=a.status,console.log(t),"error"!=t){r=[],d=[],c();var e='<p class="categoryName text-center font-weight-bold">Order form';$(".categoryName").append(e),$(".products").append('<div class="container"><div class="row products"><div class="col"><p class="text-center font-weight-bold">Order status: '+t+'</p></div></div></div><button class="btn mx-auto btn-success showAll">Return to all products</button>')}else{var e='<p class="categoryName text-center font-weight-bold">Order form';$(".categoryName").append(e),$(".products").append('<div class="container"><div class="row products"><div class="col"><p class="text-center font-weight-bold">Order status: '+t+'</p></div></div></div><button class="btn mx-auto btn-success showCart">Return to cart</button>')}},error:function(t){alert("Error while loading data!")}}),$("#orderForm").addClass("d-none")}(),$("#orderForm").addClass("d-none")}),window.location.hash.includes("category"))i(window.location.hash.replace("#category:",""));else if(window.location.hash.includes("product")){l(window.location.hash.replace("#product:",""))}else window.location.hash.includes("cart")?s():n()},function(t,a,e){}]);